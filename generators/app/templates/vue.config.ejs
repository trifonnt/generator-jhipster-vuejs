module.exports = {
  lintOnSave: true,
  outputDir: "./target/www",
  baseUrl: '/',
  configureWebpack: config => {
    if(process.env.NODE_ENV != 'production') {
      console.log(config)
      config.devServer = {};
        config.devServer.proxy = {
          '/api': {
            target: 'http://127.0.0.1:8080',
            changeOrigin: true,
          },
          '/swagger-resources': {
            target: 'http://127.0.0.1:8080',
            changeOrigin: true,
          },
          '/v2/api-docs': {
            target: 'http://127.0.0.1:8080',
            changeOrigin: true,
          }
        }
            config.resolve = {
      alias: {
        '@': "./src/main/webapp/src/"
      }
    },
    config.entry =  {
      app: "./src/main/webapp/src/main.js"
    }
      }
      else {
        config.resolve =  {
          alias: {
            '@': './src/main/webapp/src'
          }
        },
        config.entry =  {
          app: './src/main/webapp/src/main.js'
        }
      }
    }
  }